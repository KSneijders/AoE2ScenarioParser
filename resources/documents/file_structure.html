<!DOCTYPE html>
<html>

<head>
	<title>Age of Empires 2:DE Parser - Scenario Byte Stucture</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
		integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<style type="text/css">
		.container {
			margin-top: 50px;
		}

		table {
			width: 100%;
			margin-bottom: 50px;
		}

		td,
		th {
			padding: 5px 0px 5px 10px;
		}

		h3 {
			color: #2F5496;
		}

		h4 {
			color: #4F74B6;
		}

		.struct1 {
			margin-left: 30px
		}

		.struct2 {
			margin-left: 60px
		}

		uk,
		tbd,
		ut,
		ni {
			vertical-align: super;
			font-size: 12px;
			padding-left: 5px;
			padding-right: 5px;
		}

		uk {
			color: green;
		}

		uk::after {
			content: 'unknown';
		}

		tbd {
			color: blue;
		}

		tbd::after {
			content: 'to be discovered';
		}

		ut {
			color: red;
		}

		ut::after {
			content: 'untested!';
		}

		ni {
			color: gray;
		}

		ni::after {
			content: 'not implemeted!';
		}

		.ni td,
		.ni th {
			color: gray;
		}
	</style>
</head>

<body>
	<div class="container">
		<h1 class="text-center"><code>Age of Empires 2:DE Parser - Scenario Byte Stucture</code></h1>
		<p>When you want to parse <code>.aoe2scenario</code> files from the new DE version, the following information in
			this document should help you. A <code>.aoe2scenario</code> file is split in two sections. The
			<code>File Header</code> and the <code>Map data</code>. The header is uncompressed and is used in game to
			give a quick overview of certain map stats. The Map data on the other hand, is compressed and holds all data
			used for playing the map, like Player, Map and Trigger information.</p>

		<p> The compression is done using the <a href="https://en.wikipedia.org/wiki/DEFLATE"><code>DEFLATE</code></a>
			algorithm. They used the attribute <code>MAX_WBITS</code>. I've used the following to (de)compress the
			files: </p>
		<code style="margin-bottom: 1rem; display: block; white-space: pre">
			import zlib  # Default Python Library

			...

			# Decompression --> Don't try to decompress the FileHeader!!
			uncompressedFileData = zlib.decompress(aoe2FileData, -zlib.MAX_WBITS)

			# Compression
			def_obj = zlib.compressobj(9, zlib.DEFLATED, zlib.MAX_WBITS)
			compressedFileData = def_obj.compress(uncompressedFileData) + def_obj.flush()

			# More info can be found here: 
			# <a href="https://stackoverflow.com/a/22311297/7230293">https://stackoverflow.com/a/22311297/7230293</a>
		</code>

		<p>
			Once decompressed you can start reading the actual file data. Below is the overview of the entire file.
			This parsing is based on an older version, which you can find <a
				href="http://dderevjanik.github.io/agescx/formatscx/">here</a>.
		</p>

		<p>
			Every entry has a <code>type</code>, <code>repeat</code>, <code>name</code> and <code>description</code>
			column.
			The <code>name</code> and <code>description</code> are mainly used to describe the entry.
			The <code>type</code> and <code>repeat</code> are a little more technical.
			The <code>type</code> column describes how (and how many) bytes need to be read in a certain way. The
			structure works as follows: <br />
			There are multiple datatypes:
		</p>
		<table>
			<tr>
				<th style="width: 100px">Datatype</th>
				<th style="width: 100px">Notation</th>
				<th style="width: 320px">Description</th>
				<th>Remarks</th>
			</tr>
			<tr>
				<td>s</td>
				<td>bit</td>
				<td>Signed integer</td>
				<td>All integers (signed and unsigned) are parsed as little endian</td>
			</tr>
			<tr>
				<td>u</td>
				<td>bit</td>
				<td>Unsigned integer</td>
				<td>All integers (signed and unsigned) are parsed as little endian</td>
			</tr>
			<tr>
				<td>f</td>
				<td>bit</td>
				<td>Floating point number</td>
			</tr>
			<tr>
				<td>c</td>
				<td>Byte</td>
				<td>Character string of fixed length</td>
			</tr>
			<tr>
				<td>str</td>
				<td>bit</td>
				<td>Character string of variable length</td>
				<td>This type will read the number in bits given and parse it as an int. The number retrieved from it
					will be the amount of bytes read as a character string.</td>
			</tr>
			<tr>
				<td>(Empty)</td>
				<td>Byte</td>
				<td>Plain byte data</td>
			</tr>
			<tr>
				<td>Struct</td>
				<td>-</td>
				<td>A repeating set of any of the above types</td>
				<td>Not a Python struct</td>
			</tr>
		</table>

		<p>
			Per data type you can save how large the value is bit/byte wise. While this may be confusing not all values
			are in bit format.
			Some are in byte format. <br />
			Formats that use bit notation: <code>[s, u, f, str]</code> <br />
			Formats that use Byte notation: <code>[c, data]</code> <br />
			Some examples:
		</p>
		<table>
			<tr>
				<th style="width: 100px">Datatype</th>
				<th>Result</th>
			</tr>
			<tr>
				<td>s16</td>
				<td>A little endian signed integer of 16 bits.</td>
			</tr>
			<tr>
				<td>u32</td>
				<td>A little endian unsigned integer of 32 bits.</td>
			</tr>
			<tr>
				<td>f32</td>
				<td>A 32 bit floating point number.</td>
			</tr>
			<tr>
				<td>c4</td>
				<td>A 32 bit (4 bytes) ASCII character string.</td>
			</tr>
			<tr>
				<td>str16</td>
				<td>A 16 bit integer will be parsed (n). Now n bytes will be read as character string.</td>
			</tr>
			<tr>
				<td>TerrainStruct</td>
				<td>The TerrainStruct will be instantiated and DataTypes from that struct will be loaded in it's place.
				</td>
			</tr>
		</table>

		<p>
			The column <code>repeat</code> shows the amount of times the value is retrieved in a row. When an
			<code>s32</code> has a repeat of
			<code>4x</code> the Integer will be read 4 times. This means that the upcoming 16 Bytes will be read as 4
			ints. <br />
			Another possibility is that the <code>repeat</code> cell shows a variable. Example:
			"<code>number_of_triggers</code>".
			This means the amount of times something has to be retrieved is dependant on another value retrieved
			earlier.
			Whenever a value is used as a repeat feature later on it is saved. This is mentioned in the description
			cell.
			Example: "Save as <code>number_of_triggers</code>". This is used for everything where the user can 'decide'
			on the amount of times
			something is added. Think about the amount of players, the amount of tiles or units on the map, or the
			number of triggers.
		</p>

		<p>There are multiple tags used in this document. They are used as follows:</p>
		<ul>
			<li>
				<uk></uk> - Used when the older document had a name for some bytes but their usage might have changed or
				I've no clue what the name means.
			</li>
			<li>
				<tbd></tbd> - Used for entries where the usage of their bytes is unknown.
			</li>
			<li>
				<ut></ut> - Used when I wasn't able to test this functionality, mostly due to now knowing how.
			</li>
			<li>
				<ni></ni> - Used when an entry wasn't implemented in the this parser.
			</li>
		</ul>

		<p> The reason some bytes aren't actually known is because a lot has changed since <a
				href="http://dderevjanik.github.io/agescx/formatscx/">the other document linked above</a>. As that
			document was based on the disc version from 1999. Most of these tags (except for <tbd></tbd>) also have a
			reason which you can view when you <code>hover</code> over it. </p>

		<h2>Index</h2>
		<table class="table-striped" id="index">
			<tr>
				<th>Block name</th>
				<th>Block description</th>
			</tr>
			<tr>
				<td><a href="#file-header">File Header</a></td>
				<td>Uncompressed header</td>
			</tr>
			<tr>
				<td><a href="#data-header">Data Header</a></td>
				<td>Start of compressed section</td>
			</tr>
			<tr>
				<td>&emsp;<a href="#player-data-one-struct">Player data one</a></td>
				<td>First part of <code>player data</code></td>
			</tr>
			<tr>
				<td><a href="#messages">Messages</a></td>
				<td></td>
			</tr>
			<tr>
				<td><a href="#cinematics">Cinematics</a></td>
				<td></td>
			</tr>
			<tr>
				<td><a href="#background-image">Background Image</a>
					<ut title="How do you even set a background image?"></ut>
				</td>
				<td></td>
			</tr>
			<tr>
				<td><a href="#player-data-two">Player data two</a></td>
				<td>Second part of <code>player data</code></td>
			</tr>
			<tr>
				<td>&emsp;<a href="#ai-struct">AI Files</a></td>
				<td></td>
			</tr>
			<tr>
				<td>&emsp;<a href="#resources-struct">Resources</a></td>
				<td></td>
			</tr>
			<tr>
				<td><a href="#global-victory">Global Vicotory</a></td>
				<td></td>
			</tr>
			<tr>
				<td><a href="#diplomacy">Diplomacy</a></td>
				<td></td>
			</tr>
			<tr>
				<td>&emsp;<a href="#player-diplomacy-struct">Player Diplomacy</a></td>
				<td></td>
			</tr>
			<tr>
				<td><a href="#options">Options</a></td>
				<td></td>
			</tr>
			<tr>
				<td><a href="#map">Map</a></td>
				<td></td>
			</tr>
			<tr>
				<td>&emsp;<a href="#terrain-struct">Terrain</a></td>
				<td></td>
			</tr>
			<tr>
				<td><a href="#units">Units</a></td>
				<td></td>
			</tr>
			<tr>
				<td>&emsp;<a href="#player-data-four-struct">PlayerDataFourStruct</a></td>
				<td>Fourth part of <code>player data</code></td>
			</tr>
			<tr>
				<td>&emsp;<a href="#player-data-three-struct">PlayerDataThreeStruct</a></td>
				<td>Three part of <code>player data</code></td>
			</tr>
			<tr>
				<td>&emsp;<a href="#player-unit-struct">PlayerUnitsStruct</a></td>
				<td></td>
			</tr>
			<tr>
				<td>&emsp;&emsp;<a href="#unit-struct">UnitsStruct</a></td>
				<td></td>
			</tr>
			<tr>
				<td><a href="#triggers">Triggers</a></td>
				<td></td>
			</tr>
			<tr>
				<td>&emsp;<a href="#trigger-struct">TriggerData</a></td>
				<td></td>
			</tr>
			<tr>
				<td>&emsp;&emsp;<a href="#effect-struct">EffectData</a></td>
				<td></td>
			</tr>
			<tr>
				<td>&emsp;&emsp;<a href="#condition-struct">ConditionData</a></td>
				<td></td>
			</tr>
			<tr>
				<td>&emsp;<a href="#variable-struct">Variables</a></td>
				<td></td>
			</tr>
		</table>

		<div class="byte-obj" id="file-header">
			<h3>File Header</h3>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 75px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>c4</td>
					<td>1x</td>
					<td>Version</td>
					<td>In ASCII</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Header length<uk title="Always zero?"></uk>
					</td>
					<td>Excluding version and self</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Savable</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Timestamp of last save</td>
					<td>Amount of seconds that passed since 1/1/1970</td>
				</tr>
				<tr>
					<td>str32</td>
					<td>1x</td>
					<td>Scenario instructions</td>
					<td></td>
				</tr>
				<!-- <tr>
					<td>u32</td>
					<td>1x</td>
					<td>Individual victories used<uk title="What are individual victories?"></uk>
					</td>
					<td></td>
				</tr> -->
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Player count</td>
					<td>Amount of players</td>
				</tr>
				<tr>
					<td>36</td>
					<td>1x</td>
					<td>Data<tbd></tbd>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>str32</td>
					<td>1x</td>
					<td>Creator steam name</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Trigger Count</td>
					<td></td>
				</tr>
			</table>
		</div>

		<div class="byte-obj" id="data-header">
			<h3>Data Header</h3>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 75px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Next unit ID to place</td>
					<td></td>
				</tr>
				<tr>
					<td>f32</td>
					<td>1x</td>
					<td>Version</td>
					<td>In Float formation</td>
				</tr>
				<tr>
					<td>c256</td>
					<td>16x</td>
					<td>Player names</td>
					<td>Names in ASCII</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>16x</td>
					<td>String table player names</td>
					<td></td>
				</tr>
				<tr>
					<td><a href="#player-data-one-struct">PlayerDataOneStruct</a></td>
					<td>16x</td>
					<td>Player data#1</td>
					<td>First part of player data</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>16x</td>
					<td>Per-player Lock Civilization</td>
					<td><code>boolean</code> - Discoverd on 2021.6.9, version 1.41.</td>
				</tr>
				<tr>
					<td>9</td>
					<td>1x</td>
					<td>Data<tbd></tbd>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>str16</td>
					<td>1x</td>
					<td>Filename</td>
					<td>Only named at creation</td>
				</tr>
			</table>
		</div>

		<div class="byte-obj struct1" id="player-data-one-struct">
			<h4>PlayerDataOneStruct</h4>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 75px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Active</td>
					<td><code>boolean</code></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Human</td>
					<td><code>boolean</code> - If 'Either' is selected</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Civilization</td>
					<td>Civilization ID</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Architecture set</td>
					<td>Civilization ID</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>CTY mode<uk title="What even is CTY mode?"></uk>
					</td>
					<td></td>
				</tr>
			</table>
		</div>

		<div class="byte-obj" id="messages">
			<h3>Messages</h3>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 75px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Instructions</td>
					<td>String table</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Hints</td>
					<td>String table</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Victory</td>
					<td>String table</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Loss</td>
					<td>String table</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>History</td>
					<td>String table</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Scouts</td>
					<td>String table</td>
				</tr>
				<tr>
					<td>str16</td>
					<td>1x</td>
					<td>ASCII Instructions</td>
					<td></td>
				</tr>
				<tr>
					<td>str16</td>
					<td>1x</td>
					<td>ASCII Hints</td>
					<td></td>
				</tr>
				<tr>
					<td>str16</td>
					<td>1x</td>
					<td>ASCII Victory</td>
					<td></td>
				</tr>
				<tr>
					<td>str16</td>
					<td>1x</td>
					<td>ASCII Loss</td>
					<td></td>
				</tr>
				<tr>
					<td>str16</td>
					<td>1x</td>
					<td>ASCII History</td>
					<td></td>
				</tr>
				<tr>
					<td>str16</td>
					<td>1x</td>
					<td>ASCII Scouts</td>
					<td></td>
				</tr>
			</table>
		</div>

		<div class="byte-obj" id="cinematics">
			<h3>Cinematics</h3>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 75px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>str16</td>
					<td>1x</td>
					<td>Pregame cinematic filename</td>
					<td>Name in ASCII</td>
				</tr>
				<tr>
					<td>str16</td>
					<td>1x</td>
					<td>Victory cinematic filename</td>
					<td>Name in ASCII</td>
				</tr>
				<tr>
					<td>str16</td>
					<td>1x</td>
					<td>Loss cinematic filename</td>
					<td>Name in ASCII</td>
				</tr>
			</table>
		</div>

		<div class="byte-obj" id="background-image">
			<h3>Background Image<ut title="How do you even set a background image?"></ut>
			</h3>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 75px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>str16</td>
					<td>1x</td>
					<td>Background filename<ut></ut>
					</td>
					<td>Name in ASCII</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Picture Version<ut></ut>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Bitmap width<ut></ut>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Bitmap height<ut></ut>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>s16</td>
					<td>1x</td>
					<td>Picture Orientation<ut></ut>
					</td>
					<td></td>
				</tr>
				<tr class="ni">
					<td>BitMapInfoHeaderStruct</td>
					<td>1x</td>
					<td>BitMapInfo<ni></ni>
					</td>
					<td></td>
				</tr>
			</table>
		</div>

		<div class="byte-obj" id="player-data-two">
			<h3>PlayerDataTwo</h3>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 75px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>str16</td>
					<td>32x</td>
					<td>Strings<tbd></tbd>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>str16</td>
					<td>16x</td>
					<td>AI names</td>
					<td>Custom="xxx.ai", HD version="AI (HD version).ai",
						Standard="PromiDE", None="NoneAi", CD version="RandomGame".
					</td>
				</tr>
				<tr>
					<td><a href="#ai-struct">AIStruct</a></td>
					<td>16x</td>
					<td>AI files</td>
					<td></td>
				</tr>
				<tr>
					<td>u8</td>
					<td>16x</td>
					<td>AI types</td>
					<td>0=Custom (AI file name with ".ai", including "AI (HD version).ai" ),
						1=Standard, 2=None, 3=AI (CD version)</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Separator</td>
					<td>Always <code>0xFFFFFF9D</code></td>
				</tr>
				<tr>
					<td><a href="#resources-struct">ResourcesStruct</a></td>
					<td>16x</td>
					<td>Resources</td>
					<td>Resources per player. 1st-8th players, 9th GAIA</td>
				</tr>
			</table>
		</div>

		<div class="byte-obj struct1" id="ai-struct">
			<h4>AI Files</h4>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 75px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Always zero<uk></uk>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Always zero<uk></uk>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>str32</td>
					<td>1x</td>
					<td>AI <code>.per</code> file in text</td>
					<td></td>
				</tr>
			</table>
		</div>

		<div class="byte-obj struct1" id="resources-struct">
			<h4>Resources</h4>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 75px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Gold</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Wood</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Food</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Stone</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Ore x</td>
					<td>Not used in any AoE2 version</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Trade Goods<uk title="What are trade goods?"></uk>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Player color</td>
					<td>0: <code>blue</code>, ..., 7: <code>orange</code>, 8: <code>white(gaia)</code>.<br>
						Different from <code>Player Color</code> in <a href="#effect-struct">EffectDataStruct</a>.
					</td>
				</tr>
			</table>
		</div>

		<div class="byte-obj" id="global-victory">
			<h3>Global Victory</h3>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 75px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Separator</td>
					<td>Always <code>0xFFFFFF9D</code></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Conquest required</td>
					<td><code>boolean</code> - Used in Custom mode. </td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Ruins<uk title="Ruins?"></uk>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Artifacts required</td>
					<td>0 to 99. Number of owning relics. Used in Custom mode. </td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Discovery<uk title="Isn't this the same as 'Explored % of map'?"></uk>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Explored % of map required</td>
					<td>0 to 100. Used in Custom mode. </td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Gold required</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>All custom conditions required</td>
					<td><code>boolean</code> - Used in Custom mode. </td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Mode</td>
					<td>0=Standard, 1=Conquest, 2=Score, 3=Time Limit, 4=Custom</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Required score</td>
					<td>For Score win condition. Standard=900, Conquest=4294967295(-1)</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Time</td>
					<td>For Timed game, in 10ths of a year</td>
				</tr>
			</table>
		</div>

		<div class="byte-obj" id="diplomacy">
			<h3>Diplomacy</h3>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 75px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td><a href="#player-diplomacy-struct">PlayerDiplomacyStruct</a></td>
					<td>16x</td>
					<td>Per-player diplomacy</td>
					<td></td>
				</tr>
				<tr>
					<td>60</td>
					<td>192x</td>
					<td>Individual Victories<uk title="Not 100% sure what this saves"></uk>
					</td>
					<td>Repeat: 16 Players * 12 Conditions = 192</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Separator</td>
					<td>Always <code>0xFFFFFF9D</code></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>16x</td>
					<td>Per-player allied victory</td>
					<td><code>boolean</code> - ignored.
						Saved in <a href="#player-data-three-struct">Player data three</a>
					</td>
				</tr>
				<tr>
					<td>u8</td>
					<td>1x</td>
					<td>Lock Teams</td>
					<td><code>boolean</code></td>
				</tr>
				<tr>
					<td>u8</td>
					<td>1x</td>
					<td>Allow Players Choose Teams</td>
					<td><code>boolean</code></td>
				</tr>
				<tr>
					<td>u8</td>
					<td>1x</td>
					<td>Random Start Points</td>
					<td><code>boolean</code></td>
				</tr>
				<tr>
					<td>u8</td>
					<td>1x</td>
					<td>Max Number Of Teams</td>
					<td>2 to 4.</td>
				</tr>
			</table>
		</div>

		<div class="byte-obj struct1" id="player-diplomacy-struct">
			<h4>Player Diplomacy</h4>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 75px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>u32</td>
					<td>16x</td>
					<td>Stance with each player</td>
					<td></td>
				</tr>
			</table>
		</div>

		<div class="byte-obj" id="options">
			<h3>Options</h3>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 200px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>u32</td>
					<td>16x</td>
					<td>Per player number of disabled techs</td>
					<td>Save as <code>disabled_techs</code></td>
				</tr>
				<tr>
					<td>u32</td>
					<td><code>sum(disabled_techs)</code></td>
					<td>Disabled technology IDs in player order</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>16x</td>
					<td>Per player number of disabled units</td>
					<td>Save as <code>disabled_units</code></td>
				</tr>
				<tr>
					<td>u32</td>
					<td><code>sum(disabled_units)</code></td>
					<td>Disabled unit IDs in player order</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>16x</td>
					<td>Per player number of disabled buildings</td>
					<td>Save as <code>disabled_buildings</code></td>
				</tr>
				<tr>
					<td>u32</td>
					<td><code>sum(disabled_buildings)</code></td>
					<td>Disabled building IDs in player order</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Combat Mode<uk title="Combat mode?"></uk>
					</td>
					<td><code>boolean</code>?</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Naval Mode<uk title="Naval mode? Sounds cool."></uk>
					</td>
					<td><code>boolean</code>?</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>All techs</td>
					<td><code>boolean</code></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>16x</td>
					<td>Per player starting age</td>
					<td>2: DarkAge, 6: PostImp | 1st-8th players, 9th GAIA</td>
				</tr>
				<tr>
					<td>17</td>
					<td>1x</td>
					<td>
						Data<tbd></tbd>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>u8</td>
					<td>8x</td>
					<td>Per-player Base Priority</td>
					<td></td>
				</tr>
				<tr>
					<td>7</td>
					<td>1x</td>
					<td>
						Data<tbd></tbd>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Number of triggers</td>
					<td></td>
				</tr>
			</table>
		</div>

		<div class="byte-obj" id="map">
			<h3>Map</h3>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 190px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>2</td>
					<td>1x</td>
					<td>
						Seperator<tbd></tbd>
					</td>
					<td>Same value as other 2 seperators in this piece</td>
				</tr>
				<tr>
					<td>str16</td>
					<td>1x</td>
					<td>Water definition</td>
					<td></td>
				</tr>
				<tr>
					<td>2</td>
					<td>1x</td>
					<td>
						Seperator<tbd></tbd>
					</td>
					<td>Same value as other 2 seperators in this piece</td>
				</tr>
				<tr>
					<td>str16</td>
					<td>1x</td>
					<td>Map color mood</td>
					<td> - Newly introduced in version 1.37 (Game update: 35584)</td>
				</tr>
				<tr>
					<td>2</td>
					<td>1x</td>
					<td>
						Seperator<tbd></tbd>
					</td>
					<td>Same value as other 2 seperators in this piece</td>
				</tr>
				<tr>
					<td>str16</td>
					<td>1x</td>
					<td>Script name</td>
					<td>name of xs file (.xs not included) - Newly introduced in version 1.40 (Game update: 42848)</td>
				</tr>
				<tr>
					<td>u8</td>
					<td>1x</td>
					<td>Collide and Correcting</td>
					<td><code>boolean</code></td>
				</tr>
				<tr>
					<td>u8</td>
					<td>1x</td>
					<td>Villager Force Drop</td>
					<td><code>boolean</code> - Newly introduced in version 1.37 (Game update: 35584)</td>
				</tr>
				<tr>
					<td>8</td>
					<td>1x</td>
					<td>Data<tbd></tbd></td>
					<td>2 * 0xFFFFFFFF</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>2x</td>
					<td>Player 1 Initial Camera X&Y</td>
					<td>Default=0xFFFFFFFF ([-1, -1]).<br>
						Changed after clicking button "Set View" in Editor.<br>
						It seems to be dominant than <code>player_initial_camera_x</code> in
						<a href="#player-data-three-struct">Player data three</a>.
					</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>2x</td>
					<td>Player 2 Initial Camera X&Y</td>
					<td>Same as above.</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>2x</td>
					<td>Player 3 Initial Camera X&Y</td>
					<td>Same as above.</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>2x</td>
					<td>Player 4 Initial Camera X&Y</td>
					<td>Same as above.</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>2x</td>
					<td>Player 5 Initial Camera X&Y</td>
					<td>Same as above.</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>2x</td>
					<td>Player 6 Initial Camera X&Y</td>
					<td>Same as above.</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>2x</td>
					<td>Player 7 Initial Camera X&Y</td>
					<td>Same as above.</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>2x</td>
					<td>Player 8 Initial Camera X&Y</td>
					<td>Same as above.</td>
				</tr>
				<tr>
					<td>56</td>
					<td>1x</td>
					<td>
						Data<tbd></tbd>
					</td>
					<td>14 * 0xFFFFFFFF</td>
				</tr>
				<tr>
					<td>u8</td>
					<td>1x</td>
					<td>Block humanity team change</td>
					<td><code>boolean</code> - Newly introduced in version 1.41 (Game update: 44725)</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Data<uk title="Unrealistic values (Example: -559026163)"></uk>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Data<uk title="Unrealistic values (Example: 2)"></uk>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>s8</td>
					<td>1x</td>
					<td>No waves on shore</td>
					<td><code>boolean</code> - Newly introduced in version 1.37 (Game update: 35584)</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Map width</td>
					<td>Save as <code>map_width</code></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Map height</td>
					<td>Save as <code>map_height</code></td>
				</tr>
				<tr>
					<td><a href="#terrain-struct">TerrainTileStruct</a></td>
					<td><code>map_width * map_height</code></td>
					<td>Terrain</td>
					<td></td>
				</tr>
			</table>
		</div>

		<div class="byte-obj struct1" id="terrain-struct">
			<h4>Terrain Tile</h4>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 75px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>u8</td>
					<td>1x</td>
					<td>Terrain ID</td>
					<td></td>
				</tr>
				<tr>
					<td>u8</td>
					<td>1x</td>
					<td>Elevation</td>
					<td></td>
				</tr>
				<tr>
					<td>u8</td>
					<td>1x</td>
					<td>
						Unused<uk title="Never seen this used"></uk>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>2</td>
					<td>1x</td>
					<td>
						Seperator<uk title="Never seen this used"></uk>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>s16</td>
					<td>1x</td>
					<td>Layer</td>
					<td>The layered terrain type (same list as TerrainID)</td>
				</tr>
			</table>
		</div>

		<div class="byte-obj" id="units">
			<h3>Units</h3>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 120px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Number of unit sections</td>
					<td>Save as <code>unit_sections</code></td>
				</tr>
				<tr>
					<td><a href="#player-data-four-struct">PlayerDataFourStruct</a></td>
					<td>8x</td>
					<td>Player data#4</td>
					<td>Fourth part of player data</td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Number of players</td>
					<td></td>
				</tr>
				<tr>
					<td><a href="#player-data-three-struct">PlayerDataThreeStruct</a></td>
					<td>8x</td>
					<td>Player data#3</td>
					<td>Thrird part of player data</td>
				</tr>
				<tr>
					<td><a href="#player-unit-struct">PlayerUnitsStruct</a></td>
					<td><code>unit_sections</code></td>
					<td>Player Units</td>
					<td></td>
				</tr>
			</table>
		</div>

		<div class="byte-obj struct1" id="player-data-four-struct">
			<h4>PlayerDataFour</h4>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 75px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>f32</td>
					<td>1x</td>
					<td>Food</td>
					<td>Duplicate<uk title="Unsure which is leading, this, or ResourcesStruct"></uk>
					</td>
				</tr>
				<tr>
					<td>f32</td>
					<td>1x</td>
					<td>Wood</td>
					<td>Duplicate<uk title="Unsure which is leading, this, or ResourcesStruct"></uk>
					</td>
				</tr>
				<tr>
					<td>f32</td>
					<td>1x</td>
					<td>Gold</td>
					<td>Duplicate<uk title="Unsure which is leading, this, or ResourcesStruct"></uk>
					</td>
				</tr>
				<tr>
					<td>f32</td>
					<td>1x</td>
					<td>Stone</td>
					<td>Duplicate<uk title="Unsure which is leading, this, or ResourcesStruct"></uk>
					</td>
				</tr>
				<tr>
					<td>f32</td>
					<td>1x</td>
					<td>'Ore X'</td>
					<td>Duplicate<uk title="Unsure which is leading, this, or ResourcesStruct"></uk>
					</td>
				</tr>
				<tr>
					<td>f32</td>
					<td>1x</td>
					<td>Trade goods</td>
					<td>Duplicate<uk title="Unsure which is leading, this, or ResourcesStruct"></uk>
					</td>
				</tr>
				<tr>
					<td>f32</td>
					<td>1x</td>
					<td>Population limit</td>
					<td></td>
				</tr>
			</table>
		</div>

		<div class="byte-obj struct1" id="player-data-three-struct">
			<h4>PlayerDataThree</h4>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 160px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>str16</td>
					<td>1x</td>
					<td>Constant name</td>
					<td></td>
				</tr>
				<tr>
					<td>f32</td>
					<td>1x</td>
					<td>Editor Camera, X<uk title="Not only used in testing?"></uk></td>
					<td>In Editor, if current player is N, the coordinate will be saved in player N's struct.<br>
						But unknown whose coordinate makes sense when loading scenario in Editor,
						seems not to be player 1?<br>
						Seems that it will be disturbed by legacy memory of DE program when saving scenario in Editor?
					</td>
				</tr>
				<tr>
					<td>f32</td>
					<td>1x</td>
					<td>Editor Camera, Y<uk title="Not only used in testing?"></uk></td>
					<td>Same as above.</td>
				</tr>
				<tr>
					<td>s16</td>
					<td>1x</td>
					<td>Initial Camera, X <uk title="Used in game-play?"></uk></td>
					<td>Default=72(middle of 144*144 map).<br>
						Changed after clicking button "Set View" in Editor (player 1, 2 only?).<br>
						Also changed after generating a random map with units (all player).
					</td>
				</tr>
				<tr>
					<td>s16</td>
					<td>1x</td>
					<td>Initial Camera, Y <uk title="Used in game-play?"></uk></td>
					<td>Same as above.</td>
				</tr>
				<tr>
					<td>u8</td>
					<td>1x</td>
					<td>Allied Victory</td>
					<td></td>
				</tr>
				<tr>
					<td>u16</td>
					<td>1x</td>
					<td>Player count for diplomacy</td>
					<td>Save as <code>diplo_player_count</code></td>
				</tr>
				<tr>
					<td>u8</td>
					<td><code>diplo_player_count</code></td>
					<td>Diplomacy for interaction</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>9x</td>
					<td>Diplomacy for AI system</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Color</td>
					<td>Duplicate<uk title="Unsure which is leading, this, or ResourcesStruct"></uk>
					</td>
				</tr>
				<tr>
					<td>f32</td>
					<td>1x</td>
					<td>Victory Version</td>
					<td>Save as <code>vic_version</code></td>
				</tr>
				<tr>
					<td>u16</td>
					<td>1x</td>
					<td>Integer unknown</td>
					<td>Save as <code>unknown_DAT</code></td>
				</tr>
				<tr>
					<td>u8</td>
					<td><code>7</code> or <code>0</code></td>
					<td>Unknown<tbd></tbd>
					</td>
					<td>Repeat is <code>7</code> if <code>vic_version</code> == 2 else <code>0</code></td>
				</tr>
				<tr>
					<td>u8</td>
					<td><code>1</code> or <code>0</code></td>
					<td>unknown_5<tbd></tbd>
					</td>
					<td>Repeat is <code>1</code> if <code>vic_version</code> == 2 else <code>0</code>. Save as
						<code>unknown_5</code></td>
				</tr>
				<tr>
					<td>44</td>
					<td><code>unknown_DAT</code></td>
					<td>Unknown structure<tbd></tbd>
					</td>
					<td>Used in Grand Theft Empires<uk title="Unused now?"></uk>
					</td>
				</tr>
				<tr>
					<td>u8</td>
					<td>7x</td>
					<td>Unknown<tbd></tbd>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>32</td>
					<td><code>unknown_5</code></td>
					<td>Unknown structure<tbd></tbd>
					</td>
					<td>Only present in William Wallace campaign 2. <i>AFAIK</i></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Unknown<tbd></tbd>
					</td>
					<td></td>
				</tr>
			</table>
		</div>

		<div class="byte-obj struct1" id="player-unit-struct">
			<h4>PlayerUnits</h4>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 100px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Unit count</td>
					<td>Save as <code>unit_count</code></td>
				</tr>
				<tr>
					<td><a href="#unit-struct">UnitStruct</a></td>
					<td><code>unit_count</code></td>
					<td>Units</td>
					<td></td>
				</tr>
			</table>
		</div>

		<div class="byte-obj struct2" id="unit-struct">
			<h4>Unit</h4>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 75px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>f32</td>
					<td>1x</td>
					<td>X position</td>
					<td></td>
				</tr>
				<tr>
					<td>f32</td>
					<td>1x</td>
					<td>Y position</td>
					<td></td>
				</tr>
				<tr>
					<td>f32</td>
					<td>1x</td>
					<td>Z position</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>ID</td>
					<td>Used to identify units for triggers or garrisoning. First unit is <code>0</code> then
						<code>1</code>, <code>2</code>...</td>
				</tr>
				<tr>
					<td>u16</td>
					<td>1x</td>
					<td>Unit 'constant'</td>
					<td>Actual unit ID. Example: All <code>Archers</code> have an ID of <code>4</code></td>
				</tr>
				<tr>
					<td>u8</td>
					<td>1x</td>
					<td>Status</td>
					<td></td>
				</tr>
				<tr>
					<td>f32</td>
					<td>1x</td>
					<td>Rotation, in radians</td>
					<td></td>
				</tr>
				<tr>
					<td>u16</td>
					<td>1x</td>
					<td>Initial animation frame</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Garrisoned in: ID of unit</td>
					<td></td>
				</tr>
			</table>
		</div>

		<div class="byte-obj" id="triggers">
			<h3>Triggers</h3>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 180px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>f64</td>
					<td>1x</td>
					<td>Trigger Version</td>
					<td><code>f64</code> == <code>Java double</code></td>
				</tr>
				<tr>
					<td>s8</td>
					<td>1x</td>
					<td>Trigger instructions start<uk></uk>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Number of triggers</td>
					<td>Save as <code>number_of_triggers</code></td>
				</tr>
				<tr>
					<td><a href="#trigger-struct">TriggerDataStruct</a></td>
					<td><code>number_of_triggers</code></td>
					<td>Trigger data</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td><code>number_of_triggers</code></td>
					<td>Trigger display order</td>
					<td></td>
				</tr>
				<tr>
					<td>1028</td>
					<td>1x</td>
					<td>Unknown<tbd></tbd>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Number of Variables</td>
					<td>Save as <code>number_of_vars</code></td>
				</tr>
				<tr>
					<td><a href="#variable-struct">VariableStruct</a></td>
					<td><code>number_of_vars</code></td>
					<td>Variable data</td>
					<td></td>
				</tr>
			</table>
		</div>

		<div class="byte-obj struct1" id="trigger-struct">
			<h4>TriggerData</h4>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 175px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Enabled</td>
					<td><code>boolean</code></td>
				</tr>
				<tr>
					<td>s8</td>
					<td>1x</td>
					<td>Looping</td>
					<td><code>boolean</code></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Description string Table ID</td>
					<td></td>
				</tr>
				<tr>
					<td>u8</td>
					<td>1x</td>
					<td>Act as objective</td>
					<td><code>boolean</code></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Description order (in objectives)</td>
					<td></td>
				</tr>
				<tr>
					<td>u8</td>
					<td>1x</td>
					<td>Make header</td>
					<td><code>boolean</code></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Short description string Table ID</td>
					<td></td>
				</tr>
				<tr>
					<td>u8</td>
					<td>1x</td>
					<td>Display on screen</td>
					<td></td>
				</tr>
				<tr>
					<td>5</td>
					<td>1x</td>
					<td>Data<tbd></tbd>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>u8</td>
					<td>1x</td>
					<td>Mute objectives</td>
					<td><code>boolean</code></td>
				</tr>
				<tr>
					<td>str32</td>
					<td>1x</td>
					<td>Trigger description</td>
					<td></td>
				</tr>
				<tr>
					<td>str32</td>
					<td>1x</td>
					<td>Trigger name</td>
					<td></td>
				</tr>
				<tr>
					<td>str32</td>
					<td>1x</td>
					<td>Short description</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Number of effects</td>
					<td>Save as <code>number_of_effects</code></td>
				</tr>
				<tr>
					<td><a href="#effect-struct">EffectDataStruct</a></td>
					<td><code>number_of_effects</code></td>
					<td>Effect data</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td><code>number_of_effects</code></td>
					<td>Effect display order array</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Number of conditions</td>
					<td>Save as <code>number_of_conditions</code></td>
				</tr>
				<tr>
					<td><a href="#condition-struct">ConditionDataStruct</a></td>
					<td><code>number_of_conditions</code></td>
					<td>Condition data</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td><code>number_of_conditions</code></td>
					<td>Condition display order array</td>
					<td></td>
				</tr>
			</table>
		</div>

		<div class="byte-obj struct2" id="effect-struct">
			<h4>EffectDataStruct</h4>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 200px">Repeat</th>
					<th style="width: 250px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Effect type</td>
					<td>Save as <code>effect_type</code></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Check?<uk
							title="Possibly something to do with the amount of attributes a effect has. As this value was 23 (0x17) in the disc version and now 46 (0x2e).">
						</uk>
					</td>
					<td>Always <code>0x30 (48)</code></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>AI script goal</td>
					<td></td>
				</tr>
				<tr>
					<td>u8</td>
					<td>1x</td>
					<td>Quantity</td>
					<td>Use if <code>effect_type</code> equals 28 or 31</td>
				</tr>
				<tr>
					<td>s24</td>
					<td>1x</td>
					<td>Armor/Attack Type</td>
					<td>Use if <code>effect_type</code> equals 28 or 31</td>
				</tr>

				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Quantity</td>
					<td>Use if <code>effect_type</code> does not equal 28 or 31</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Tribute List</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Diplomacy</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Number of units selected</td>
					<td>Save as <code>number_of_units_selected</code></td>
				</tr>
				<tr>
					<td>4</td>
					<td>1x</td>
					<td>Data<tbd></tbd>
					</td>
					<td>Not used by any effect.</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Object list unit ID</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Player Source</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Player Target</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Technology</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>String ID</td>
					<td></td>
				</tr>
				<tr>
					<td>4</td>
					<td>1x</td>
					<td>Data<tbd></tbd>
					</td>
					<td>Not used by any effect.</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Display Time</td>
					<td>For displaying Instructions</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Trigger ID</td>
					<td>For Activate and Deactivate</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Condition</td>
					<td>Location X</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Location Y</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Area X1</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Area Y1</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Area X2</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Area Y2</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Object Group</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Object Type</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Instruction Panel Position</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Attack Stance</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Time unit</td>
					<td>Seconds, Minutes, Years</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Enabled/Victory</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Food</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Wood</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Stone</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Gold</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Item ID</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Flash Object</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Force Research Technology</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Visibility State</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Scroll</td>
					<td>Used in Set View</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Operation</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Object list unit ID 2</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Button Location</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>AI signal Value</td>
					<td></td>
				</tr>
				<tr>
					<td>4</td>
					<td>1x</td>
					<td>Data<tbd></tbd>
					</td>
					<td>Not used by any effect.</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Object attributes</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>From Variable</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Variable/Timer</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Facet</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Location Object Reference</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Play Sound</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Player color</td>
					<td></td>
				</tr>
				<tr>
					<td>4</td>
					<td>1x</td>
					<td>Data<tbd></tbd>
					</td>
					<td>Not used by any effect(?)</td>
				</tr>
				<tr>
					<td>str32</td>
					<td>1x</td>
					<td>Message</td>
					<td></td>
				</tr>
				<tr>
					<td>str32</td>
					<td>1x</td>
					<td>Sound (event) name</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td><code>number_of_units_selected</code></td>
					<td>Selected Object(s) ID</td>
					<td></td>
				</tr>
			</table>
		</div>

		<div class="byte-obj struct2" id="condition-struct">
			<h4>ConditionDataStruct</h4>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 75px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Condition Type</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>
						Check?<uk></uk>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Amount</td>
					<td>Also used as Quantity, Technology State and Difficulty</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Resource Type / Tribute list</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Unit object</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Next object</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Object list</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Player</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Technology</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Timer</td>
					<td></td>
				</tr>
				<tr>
					<td>4</td>
					<td>1x</td>
					<td>Data<tbd></tbd>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Area 1 X</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Area 1 Y</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Area 2 X</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Area 2 Y</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Object Group</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Object Type</td>
					<td>-1: None, 1: Other, 2: Building, 3: Civilian, 4: Military</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>AI Signal</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Inverted</td>
					<td><code>boolean</code></td>
				</tr>
				<tr>
					<td>4</td>
					<td>1x</td>
					<td>Data<tbd></tbd>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Variable</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Comparison</td>
					<td>0: ==, 1: <, 2:>, 3: <=, 4:>=</td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Target player</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>Unit AI Action</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>
						Data<uk></uk>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>s32</td>
					<td>1x</td>
					<td>xs function</td>
					<td>function call to <code>xs</code> file.</td>
				</tr>
			</table>
		</div>

		<div class="byte-obj struct1" id="variable-struct">
			<h4>VariableStruct</h4>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 175px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>Variable Identifier</td>
					<td><code>0</code> to <code>255</code></td>
				</tr>
				<tr>
					<td>str32</td>
					<td>1x</td>
					<td>New Variable Name</td>
					<td></td>
				</tr>
			</table>
		</div>

		<div class="byte-obj" id="files">
			<h3>Files</h3>
			<table class="table-striped">
				<tr>
					<th style="width: 80px">Type</th>
					<th style="width: 150px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>4</td>
					<td>1x</td>
					<td>
						Unknown<tbd></tbd>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>str16</td>
					<td>1x</td>
					<td>Script file path</td>
					<td>Path to <code>xs</code> file. Includes the '.xs'</td>
				</tr>
				<tr>
					<td>str16</td>
					<td>1x</td>
					<td>Script File Content</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td>1x</td>
					<td>AI Files present</td>
					<td><code>boolean</code> | Save as <code>ai_files_present</code></td>
				</tr>
				<tr>
					<td>4</td>
					<td>1x</td>
					<td>
						Unknown<tbd></tbd>
					</td>
					<td></td>
				</tr>
				<tr>
					<td>u32</td>
					<td><code>ai_files_present</code></td>
					<td>Number of AI files</td>
					<td>Save as <code>number_of_ai_files</code></td>
				</tr>
				<tr>
					<td><a href="#ai2-struct">AI2 Struct</a></td>
					<td><code>number_of_ai_files</code></td>
					<td>AI File data</td>
					<td></td>
				</tr>
			</table>
		</div>

		<div class="byte-obj struct2" id="ai2-struct">
			<h4>AI2Struct</h4>
			<table class="table-striped">
				<tr>
					<th style="width: 75px">Type</th>
					<th style="width: 75px">Repeat</th>
					<th style="width: 300px">Name</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>str32</td>
					<td>1x</td>
					<td>AI File name</td>
					<td></td>
				</tr>
				<tr>
					<td>str32</td>
					<td>1x</td>
					<td>AI File content</td>
					<td></td>
				</tr>
			</table>
		</div>

		<p style="float: right"><a href="#index">Back to the top</a></p>
	</div>
</body>

</html>